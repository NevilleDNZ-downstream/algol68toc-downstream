<!DOCTYPE html>
    
<html>
    
<head>
<!-- copyright (c) 2013 Sian Mountbatten -->
<meta name="generator" content="Epsilon 13.12" />
<meta name="revised" content="Sian Mountbatten,Sun Mar 10 2013" />
<meta name="keywords" content="ca,Algol 68" />
<meta name="description" content="ca manual" />
<meta name="author" content="Sian Mountbatten" />
<meta http-equiv="content-type" content="text/html: charset=ISO-8859-1" />
<title>ca</title>
<style>
dt.r {color:red;}
dt.g {color:green;}
span.r {color:red;}
span.g {color:green;}
</style>
</head>

<body>
<h1>Name</h1>

<p><b>ca</b> - compile either Web 68 or Algol 68 module</p>

<h1>Summary</h1>

<pre>
<b>ca</b> [-c][-C cdir][-D module][-d m-dir][-f gcc-flag][-h][-i inc-dir]
   [-L link-dir][-l lib][-M mod-dir][-m lib][-s][-u seed][-V][-w tang-dir]
   module-path
</pre>

<h1>Description</h1>

<p><b>ca</b> converts a source-code module written in either
Web 68 or Algol 68 into an object module. If the module is a
program, <b>ca</b> will link it to create a binary program
in the directory specified by <i>module-path</i>. Otherwise,
it will store the object module in a static library specified
by the <span class="r">-m</span> argument which should be
preceded by a <span class="r">-M</span> argument giving its
directory. If the <span class="r">-M</span> option is not
used, the default directory for the static library will be
used. The module will include debug symbols if the option
<span class="r">-g</span> is used. Note that the
argument of an option should be separated from the option
itself by a space.</p>

<p><b>ca</b> will launch <b>tang</b> (whose documentation is
in <a href="file:///usr/share/doc/algol68toc/tang.html">
<tt>/usr/share/doc/algol68toc/tang.html</tt></a> if the file
extension is <span class="g">.w68</span> or <span
class="g">.t68</span>. If the filename does not have an
extension, <span class="g">.a68</span> will be presumed.</p>

<h1>Options</h1>

<p>The following options are available:</p>

<dl>
   <dt class="r">-c</dt>
   <dd>Stop run-time checking of bounds (not recommended).</dd>
   
   <dt class="r"><a name="C-option">-C cdir</a></dt>
   <dd>Specify a directory to search for a C file for the
       unique seed (see option <span class="r">-u</span>
       below).</dd>
       
   <dt class="r">-D</dt>
   <dd>Delete this module from the static library specified
       as the argument of a <span class="r">-m</span>
       option. Also delete the corresponding
       <span class="g">m</span> file.</dd>
   
   <dt class="r">-d m-dir</dt>
   <dd>Add 'm-dir' to the list of directories containing
       '.m' files. If the directory does not exist, it will
       be created.</dd>
   
   <dt class="r">-f gcc-flag</dt>
   <dd>Specify a flag to be passed to <b>gcc</b> when compiling
       the C file output by <b>a68toc</b>.</dd>
   
   <dt class="r">-g</dt>
   <dd>Switch on debugging. This only affects <b>tang</b> and
       <b>gcc</b>.</dd>
   
   <dt class="r">-h</dt>
   <dd>Display a laconic message giving help information and
       the default values of various arguments.</dd>
   
   <dt class="r">-i inc-dir</dt>
   <dd>Add 'inc-dir' to the directories to be searched by
       <b>gcc</b> for included files.</dd>
   
   <dt class="r">-L link-dir</dt>
   <dd>Specify a directory to be searched for libraries for
       linking.</dd>
   
   <dt class="r">-l lib</dt>
   <dd>Specify a library for linking. Neither the 'lib' at
       the front of the name, nor the extension, whether
       <span class="g">.a</span> or <span
       class="g">.so</span> need be given.</dd>

   <dt class="r">-M mod-dir</dt>
   <dd>Specify a directory in which a static module library
       is kept.</dd>
   
   <dt class="r">-m lib</dt>
   <dd>Specify a static library in which compiled DECS modules
       can be stored.</dd>
   
   <dt class="r">-s</dt>
   <dd>Specifies that only syntax checking should be
       performed on the input file. No C file will be
       output, but a module information file will still be
       output if the file is a DECS module.</dd>
   
   <dt class="r">-u seed</dt>
   <dd>Specifies where the <b>a68toc</b> translator will
       find a seed for its unique filenames. Possible values
       of <span class="g">seed</span> are:
       <dl>
       	<dt class="g">seedfile</dt>
         <dd>This is the default. The file specified by the
             environment variable <span
             class="g">A68_NAMESEED</span> will be used for
             the seed.</dd>
         <dt class="g">cfile</dt>
         <dd>See option <span class="g"><a
             href="#C-option">-C</a></span>. The C file
             should have the same name as the module being
             compiled.</dd>
         
         <dt class="g">7 upper-case letters</dt>
         <dd>They will be used as the first unique seed.</dd>
       </dl></dd>
   
   <dt class="r">-V</dt>
   <dd>Specifies that <b>tang</b> should not emit comments
       to its output file.</dd>
   
   <dt class="r">-w tang-dir</dt>
   <dd>Specifies a directory for <b>tang</b> to search for
       included Web 68 preludes.</dd>
</dl>

<h1>Files</h1>

<p>The Algol 68 to C translator outputs a C file. The C
compiler outputs an object module (type <span
class="g">.o</span>) and the linker (<b>gcc</b> again) will
output a binary program with executable permissions.</p>

<p>If the module is a DECS module, the object module can be
stored in a static libary (with file extension <span
class="g">.a</span>). The module information file (with
extension <span class="g">.m</span> will be output to the
<span class="g">m</span> directory.</p>

<h1>Environment</h1>

<p><b>ca</b> uses the following environment variables:</p>
<dl>
   <dt class="g">HOME</dt>
   <dd>The user's home directory.</dd>
   
   <dt class="g">A68_LIB</dt>
   <dd>The directory to search for the
       <span class="g">.m</span> file for the standard prelude.</dd>
   
   <dt class="g">A68_DIR</dt>
   <dd>A colon-separated list of directories in which to
       look for module information files of pre-compiled
       modules.</dd>
   
   <dt class="g">A68_NAMESEED</dt>
   <dd>The name of the file containing the unique nameseed.</dd>
</dl>

<h1>Examples</h1>

<p>Some examples of simple usage of <b>ca</b>.</p>
<dl>
   <dt class="r">ca prog.w68</dt>
   <dd>Translate the Web 68 file <span
       class="g">prog.w68</span> to Algol 68, compile it and link
       with the standard prelude, the run-time system, the
       mathematical library and the C library.</dd>

   <dt class="r">ca -m mod decs.w68</dt>
   <dd>Translate <span class="g">decs.w68</span> from Web 68
       to Algol 68, compile it with <b>gcc</b>, then store
       the resulting object module in <span
       class="g">libmod.a</span> in the default directory
       <span class="g">${HOME}/lib</span>.</dd>
   
   <dt class="r">ca -l mod -l forms prog.a68</dt>
   <dd>Translate the Algol 68 program in <span
       class="g">prog.a68</span>, compile the resulting C
       program source file and link the object module with
       preludes from <span class="g">libmod.a</span>,
       library functions in <span
       class="g">libforms.so</span>, the standard prelude,
       the run-time system and the maths and C libraries.</dd>
</dl>

<h1>See also</h1>

<p>a68toc (1), gcc(1), ar(1), ranlib(1)</p>

</body>
</html>
